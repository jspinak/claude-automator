# Claude Automator Test Profile Configuration
# This profile is automatically activated in tests via @ActiveProfiles("test")

# Import Brobot test defaults (if available)
spring.config.import=optional:classpath:brobot-test-defaults.properties

# Force mock mode for all tests
brobot.framework.mock=true
brobot.core.mock=true

# State probabilities for deterministic testing
# 100% ensures transitions always succeed in tests
claude.automator.mock.prompt-state-probability=100
claude.automator.mock.working-state-probability=100

# Fast test execution
claude.automator.monitoring.max-iterations=3
claude.automator.monitoring.initial-delay=0
claude.automator.monitoring.check-interval=1

# Test-optimized action timings (seconds)
brobot.mock.time-find-first=0.01
brobot.mock.time-find-all=0.02
brobot.mock.time-click=0.005
brobot.mock.time-type=0.01
brobot.mock.time-move=0.01

# Disable visual elements in tests
brobot.highlight.enabled=false
brobot.sikuli.highlight=false
brobot.screenshot.save-snapshots=false
brobot.screenshot.save-history=false
brobot.console.actions.enabled=false

# Test logging
logging.level.root=WARN
logging.level.com.claude.automator=INFO
logging.level.io.github.jspinak.brobot=INFO
brobot.logging.verbosity=QUIET

# Test-friendly similarity thresholds
brobot.action.similarity=0.70
brobot.find.similarity.min=0.60
brobot.find.similarity.default=0.70

# Test directories
brobot.screenshot.path=target/test-screenshots/
brobot.history.path=target/test-history/
brobot.debug.capture-directory=target/test-captures/

# Disable pauses
brobot.mouse.move-delay=0
brobot.action.pause-after=0

# Disable DPI and physical resolution for tests
brobot.capture.physical-resolution=false
brobot.capture.dpi-aware=false
brobot.capture.use-direct-robot=false

# Pattern caching for performance
brobot.pattern.cache.enabled=true
brobot.pattern.cache.size=100

# State verification
brobot.startup.verify-initial-states=true
brobot.startup.initial-states=Prompt
brobot.startup.fallback-search=false
brobot.startup.activate-first-only=true
brobot.startup.startup-delay=0