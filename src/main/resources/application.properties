# Claude Automator Configuration

# Default configuration - will be overridden by profile-specific configs
# Use application-windows.properties for Windows
# Use application-linux.properties for Linux/WSL

# Core Brobot settings
brobot.core.image-path=images/

# GUI Access Settings
brobot.gui-access.continue-on-error=true
brobot.gui-access.check-on-startup=true

# Console action reporting - enable for highlighting debugging
brobot.console.actions.enabled=true
brobot.console.actions.level=VERBOSE
brobot.console.actions.report-highlight=true
brobot.console.actions.show-search-regions=true

# Enable console output capture to route all logs through Brobot
# Disabled to prevent duplicate console output lines
brobot.logging.console.capture-enabled=false

# Logging verbosity configuration - set to VERBOSE for debugging
brobot.logging.verbosity=VERBOSE
brobot.logging.normal.show-timing=true
brobot.logging.normal.show-match-coordinates=true
brobot.logging.normal.show-match-count=true
brobot.logging.verbose.show-match-scores=true
brobot.logging.normal.use-compact-format=false
brobot.logging.normal.max-object-name-length=30
brobot.logging.verbose.show-search-regions=true

# Match reporting configuration
# Matches below this threshold are summarized instead of shown individually
brobot.logging.low-score-threshold=0.50
# Maximum number of detailed matches to show in verbose mode
brobot.logging.max-detailed-matches=10

# Visual feedback 
brobot.highlight.enabled=true
brobot.highlight.auto-highlight-finds=true
brobot.highlight.auto-highlight-search-regions=false
# Additional property needed by FindPipeline (due to typo in Brobot library)
brobot.highlighting.enabled=true

# Enhanced highlighting for found images
brobot.highlight.find.color=#00FF00
# Specific color for ClaudeIcon (blue)
brobot.highlight.icon.color=#0000FF
brobot.highlight.find.border-width=4
brobot.highlight.find.flash=true
brobot.highlight.find.flash-count=2
brobot.highlight.find.flash-interval=200
brobot.highlight.find.show-confidence=true
brobot.highlight.find.label.enabled=true
brobot.highlight.find.label.background=#00FF00
brobot.highlight.find.label.text-color=#FFFFFF

# Highlight durations (in seconds) - reduce these to prevent UI lockup
brobot.highlight.find.duration=1.5
brobot.highlight.search-region.duration=0.3
brobot.highlight.error.duration=1.0
brobot.highlight.click.duration=0.2
brobot.sikuli.highlight-duration=1.5

# Multiple match highlighting
brobot.highlight.multi-match.enabled=true
brobot.highlight.multi-match.number-matches=true
brobot.highlight.multi-match.gradient-colors=true

# Aspects
brobot.aspects.visual-feedback.enabled=true
brobot.aspects.multi-monitor.enabled=false

# Execution Environment Settings
# Mock mode - default to false for real screen interaction
brobot.core.mock=false

# Mock Mode Configuration
# Both states have 100% probability for reliable transitions in mock mode
# The state probabilities are now hardcoded in the state classes themselves

# Mock timing configuration (in seconds)
brobot.mock.time-find-first=0.01
brobot.mock.time-find-all=0.02
brobot.mock.time-click=0.005
brobot.mock.time-drag=0.01
brobot.mock.time-move=0.01

# SikuliX Debug Configuration
sikuli.Debug=3
sikuli.Silence=false
sikuli.ImageCache=0
# Force SikuliX to initialize properly on macOS
sikuli.Screen.capture=true
# Force headless mode (null = auto-detect, true = force headless, false = force display)
brobot.force.headless=false
# Allow screen capture operations
brobot.allow.screen.capture=true

# Default similarity threshold for pattern matching
# Lowered to 0.65 to accommodate DPI-scaled pattern matching differences
# Patterns match at ~69% in Brobot vs 99% in SikuliX IDE due to image type conversions
brobot.action.similarity=0.65
# Minimum similarity threshold - prevents false positives
brobot.find.similarity.min=0.65
brobot.find.similarity.default=0.80

# DPI Configuration for Windows with Display Scaling
# IMPORTANT: SikuliX captures at logical resolution when Windows has DPI scaling
# With 125% scaling: Physical 1920x1080 â†’ Logical 1536x864 (what SikuliX captures)

# DPI Awareness Configuration
# IMPORTANT: Disable DPI awareness to force physical resolution capture
brobot.dpi.disable=true

# Capture Provider Configuration
# Use JavaCV FFmpeg for physical resolution capture that matches Windows/SikuliX IDE patterns
# JAVACV_FFMPEG uses bundled FFmpeg libraries (no external installation required)
brobot.capture.provider=JAVACV_FFMPEG
brobot.capture.prefer-physical=true
brobot.capture.fallback-enabled=true
brobot.capture.enable-logging=true

# Pattern resize factor (Settings.AlwaysResize)
# DISABLED: Since FFmpeg captures at physical resolution (1920x1080) matching
# Windows and SikuliX IDE patterns, no scaling is needed
brobot.dpi.resize-factor=1.0

# PREVIOUS AUTO MODE (now disabled):
# - Auto-detection would scale patterns by 0.8 for 125% DPI
# - Not needed when using FFmpeg physical capture
# brobot.dpi.resize-factor=auto

# Initial State Configuration (NEW - replaces custom config classes)
# Brobot framework now handles initial state activation automatically
brobot.startup.auto-activate=true
brobot.startup.verify=true
brobot.startup.initial-delay=5
brobot.startup.delay=1
brobot.startup.activate-first-only=true
brobot.startup.fallback-search=false

# Claude Automator Monitoring Configuration
# States to monitor - order matters! Prompt should be found before Working
claude.automator.monitoring.required-states=Prompt
# Maximum number of iterations before stopping (5 for testing)
claude.automator.monitoring.max-iterations=2
# Initial delay before monitoring starts (seconds) - coordinates with startup.initial-delay
claude.automator.monitoring.initial-delay=5

# Best Match Capture for debugging pattern matching
# When enabled, captures the best matching region even when patterns fail
brobot.debug.capture-best-match=false
brobot.debug.capture-threshold=0.95
brobot.debug.capture-directory=history/best-matches
brobot.debug.save-pattern-image=true

# Test properties - enable simple highlight test to verify console output
test.image-loading=false
test.annotation-processing=false
test.direct-find=false
test.direct-highlight=false
test.highlight-console=false
test.highlight=false
test.simple-highlight-console=false
test.transition-execution=false

# Logging levels - brobot DEBUG commented out to not interfere with quiet mode
# To enable debug logging, uncomment the following line:
# logging.level.io.github.jspinak.brobot=DEBUG
logging.level.root=INFO
logging.level.com.claude.automator=INFO
logging.level.org.springframework=WARN
logging.level.org.sikuli=WARN

# Suppress JavaCV/FFmpeg native library debug messages
logging.level.org.bytedeco=ERROR
logging.level.org.bytedeco.javacpp=ERROR
logging.level.org.bytedeco.javacv=ERROR
logging.level.org.bytedeco.ffmpeg=ERROR

# Native library debug output suppression
# This suppresses "Debug: Loading library..." and similar messages
brobot.native.logging.suppress=true
brobot.javacpp.debug=false
brobot.javacv.debug=false
# Debug highlighting components - enabled for region debugging
logging.level.io.github.jspinak.brobot.aspects.display.VisualFeedbackAspect=DEBUG
logging.level.io.github.jspinak.brobot.tools.logging.visual.HighlightManager=DEBUG
logging.level.io.github.jspinak.brobot.action.basic.highlight=DEBUG
logging.level.io.github.jspinak.brobot.tools.logging.visual.ConsoleVisualTracker=DEBUG
# Debug RegionBuilder to see calculations
logging.level.io.github.jspinak.brobot.model.element.RegionBuilder=DEBUG
logging.level.io.github.jspinak.brobot.model.element.Region=DEBUG
# Debug headless mode and property verification - temporarily enabled to debug screen capture issue
logging.level.io.github.jspinak.brobot.config.HeadlessDiagnostics=DEBUG
logging.level.io.github.jspinak.brobot.config.environment.ExecutionEnvironment=DEBUG

# Screenshot settings
brobot.screenshot.save-history=false
# Temporarily enable DEBUG for screen capture diagnostics
logging.level.io.github.jspinak.brobot.util.image.core=DEBUG

# Diagnostics
# Note: Diagnostics configuration should be in separate diagnostic properties file if needed

# Enhanced diagnostics for debugging pattern matching issues
# NOTE: These are commented out as BrobotConfiguration doesn't have a diagnostics property
# brobot.diagnostics.image-loading=true
# brobot.diagnostics.pattern-creation=true
# brobot.diagnostics.sikuli-integration=true
# brobot.diagnostics.search-regions=true
# brobot.diagnostics.similarity-threshold=true
# brobot.diagnostics.pattern-matching=true

# Diagnostic output formatting
# brobot.diagnostics.show-timestamps=false
# brobot.diagnostics.show-thread-names=false
# brobot.diagnostics.indent-nested-calls=true